const lenis=new Lenis({duration:3});let mm=gsap.matchMedia();var today=new Date,date=today.getDate()+"/"+(today.getMonth()+1)+"/"+today.getFullYear(),hour=today.getHours(),ampm=hour>=12?"PM":"AM";hour=hour%12||12;var minute=today.getMinutes(),dateNtime=date+" "+hour+":"+(minute=addLeadingZero(minute))+ampm,clockElement=document.querySelector(".clock");function addLeadingZero(e){return e<10?"0"+e:e}function eyeball(){document.querySelectorAll(".eyes .eye").forEach((function(e){let t=e.getBoundingClientRect().left+e.clientWidth/2,o=e.getBoundingClientRect().top+e.clientHeight/2,r=Math.atan2(event.pageX-t,event.pageY-o)*(180/Math.PI)*-1-270;e.style.transform="rotate("+r+"deg)"}))}clockElement.innerHTML=dateNtime,lenis.on("scroll",(e=>{})),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{lenis.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),$(".tooltip-trigger").hover((function(){$(".hero-tooltip").toggleClass("show")})),document.querySelector("body").addEventListener("mousemove",eyeball),ScrollTrigger.create({trigger:".ribbon",start:"top top",end:"bottom top",pin:".ribbon",pinSpacing:!1});const mainTimeline=gsap.timeline();mm.add("(min-width: 500px)",(()=>{ScrollTrigger.create({trigger:".skills-wrapper",start:"top top",end:"bottom top",pin:".skills-wrapper h2",pinSpacing:!1})})),mainTimeline.to(".hero",{y:0,opacity:1,duration:1,borderBottomLeftRadius:50,borderBottomRightRadius:50,ease:"power3.out"}),mainTimeline.to(".hero",{scale:1,width:"100%",borderBottomRightRadius:0,borderBottomLeftRadius:0,duration:1,onStart:()=>{$("body").addClass("loading"),$("body").removeClass("loaded")},ease:"power3.out"});var heroText=new SplitType(".hero-title h1");const heroChars=document.querySelectorAll(".hero-title h1 .char"),heroCode=document.querySelector(".hero-title .code"),heroTl=gsap.timeline();mainTimeline.from(".ribbon",{opacity:0,duration:1,ease:Back.easeOut.config(1.4)});var splitText=new SplitType(".hero-title .hero-intro, .montigo, .skills-box span",{types:"lines, words"});const heroIntroWord=document.querySelectorAll(".hero-title .hero-intro .word");mainTimeline.from(".hero h1",{yPercent:50,duration:1,ease:"power4"}),mainTimeline.to(heroCode,{duration:1,rotate:-2.5,ease:Back.easeOut.config(1.4)}),mainTimeline.from(heroIntroWord,{filter:"blur(10px)",duration:1,yPercent:100,opacity:0,ease:"power4",stagger:.025,skewY:7,onComplete:()=>{lenis.start(),$("body").addClass("loaded"),$("body").removeClass("loading")}});const scrollTimeline=gsap.timeline({scrollTrigger:{trigger:".rolling-text",start:"top center-=20%",end:"bottom center-=20%",scrub:!0}});mm.add("(min-width: 500px)",(()=>{scrollTimeline.to([".hero",".ribbon"],{width:"95%",borderBottomRightRadius:50,borderBottomLeftRadius:50})}));const scrollingTextItems=gsap.utils.toArray(".rolling-text-item"),scrollingTextTimeline=horizontalLoop(scrollingTextItems,{repeat:-1});let speedTween;ScrollTrigger.create({trigger:".rolling-text",start:"top bottom",end:"bottom top",onUpdate:e=>{speedTween&&speedTween.kill(),speedTween=gsap.timeline().to(scrollingTextTimeline,{timeScale:4*e.direction,duration:.25}).to(scrollingTextTimeline,{timeScale:2*e.direction,duration:.5},"+=0.5")}}),heroTl.from(".hero-title h5",{y:500,duration:1,opacity:0,ease:Back.easeOut.config(1.4)});const introTimeline=gsap.timeline({scrollTrigger:{trigger:".introduction",start:"top center",end:"center center"}});var montigoSplit=$(".montigo .word"),skillSplit=$(".skills-box span .word");introTimeline.from(montigoSplit,{filter:"blur(10px)",duration:1.5,yPercent:100,opacity:0,ease:"power4",stagger:.025,skewY:7}),introTimeline.from(skillSplit,{duration:1,yPercent:100,opacity:0,ease:"power4",stagger:.025,skewY:7}),introTimeline.to(".introduction",{});const workTimeline=gsap.timeline({scrollTrigger:{trigger:".works-wrapper",start:"top center",end:"center center",scrub:!0}});workTimeline.to(".introduction",{borderBottomLeftRadius:0,borderBottomRightRadius:0,backgroundColor:"#fcfbf5",duration:4,ease:"power3.out"}),mm.add("(min-width: 500px)",(()=>{gsap.from(".card-item-wrapper",{scrollTrigger:{trigger:".card-stack-wrapper",start:"top center",end:"center center"},filter:"grayscale(1)",duration:1.5,xPercent:-50,ease:Back.easeOut.config(1.1)})})),gsap.from(".footer-sticky",{scrollTrigger:{start:"top bottom",end:"bottom top",trigger:".footer-sticky",toggleClass:"stickem",scrub:!0}});const footerTimeline=gsap.timeline({scrollTrigger:{trigger:".works-wrapper",start:"center center",end:"bottom center",scrub:!0}});footerTimeline.to(".introduction",{borderBottomLeftRadius:50,borderBottomRightRadius:50}),$(".card-stack-item").on("click",(function(e){e.stopPropagation(),$(this).hasClass("active")?$(this).removeClass("active"):($(".card-stack-item").removeClass("active"),$(this).addClass("active"))})),$(document).on("click",(function(){$(".card-stack-item").removeClass("active")})),mm.add("(min-width: 500px)",(()=>{ScrollTrigger.create({trigger:".works-wrapper",start:"top top",end:"bottom top",pin:".works-wrapper-title",pinSpacing:!1}),ScrollTrigger.create({trigger:".works-wrapper",start:"top top",end:"bottom top",pin:".instructions-text",pinSpacing:!1})}));